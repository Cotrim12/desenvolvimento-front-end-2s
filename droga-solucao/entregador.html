<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Área do Entregador - Droga Solução</title>
  <style>
    :root {
      --green: #00b140;
      --bg: #101010;
      --card: #1a1a1a;
      --gray: #ccc;
    }

    body {
      font-family: Inter, system-ui, Arial;
      background: var(--bg);
      color: #fff;
      margin: 0;
      min-height: 100vh;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: var(--green);
      color: #000;
      padding: 14px 20px;
    }

    header h1 {
      font-size: 20px;
      margin: 0;
    }

    header button {
      background: #000;
      color: var(--green);
      border: none;
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
    }

    .tabs {
      display: flex;
      justify-content: space-around;
      background: #141414;
      border-bottom: 2px solid #222;
    }

    .tabs button {
      flex: 1;
      background: none;
      border: none;
      color: #999;
      padding: 12px;
      font-weight: 600;
      cursor: pointer;
    }

    .tabs button.active {
      color: var(--green);
      border-bottom: 2px solid var(--green);
    }

    .tab-content {
      display: none;
      padding: 20px;
    }

    .tab-content.active {
      display: block;
    }

    .card {
      background: var(--card);
      border-radius: 10px;
      padding: 16px;
      margin-bottom: 12px;
    }

    .btn {
      background: var(--green);
      color: #000;
      border: none;
      border-radius: 8px;
      padding: 8px 16px;
      cursor: pointer;
      font-weight: 600;
      margin-top: 10px;
    }

    .saldo {
      font-size: 24px;
      font-weight: 700;
      color: var(--green);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      color: #fff;
      font-size: 14px;
    }

    table th, table td {
      padding: 8px;
      border-bottom: 1px solid #333;
    }

    table th {
      color: var(--green);
      text-align: left;
    }

    .center {
      text-align: center;
    }
  </style>
</head>
<body>
  <header>
    <h1>Área do Entregador</h1>
    <button onclick="logout()">Sair</button>
  </header>

  <div class="tabs">
    <button class="active" data-tab="entregas">Entregas</button>
    <button data-tab="financeiro">Financeiro</button>
  </div>

  <div id="entregas" class="tab-content active">
    <h2>Entregas disponíveis</h2>
    <div id="listaEntregas"></div>

    <h2>Minhas entregas</h2>
    <div id="minhasEntregas"></div>
  </div>

  <div id="financeiro" class="tab-content">
    <h2>Financeiro</h2>
    <div class="card">
      <p>Saldo disponível:</p>
      <p class="saldo" id="saldo">R$ 180,00</p>
      <button class="btn" onclick="sacar()">Sacar dinheiro</button>
    </div>

    <h3>Histórico de Entregas</h3>
    <table>
      <thead>
        <tr><th>Data</th><th>Valor</th><th>Status</th></tr>
      </thead>
      <tbody id="historico">
        <tr><td>10/11/2025</td><td>R$ 25,00</td><td>Concluída</td></tr>
        <tr><td>11/11/2025</td><td>R$ 30,00</td><td>Concluída</td></tr>
      </tbody>
    </table>
  </div>

  <script>
    // Simulação de dados
    const entregasDisponiveis = [
      { id: 1, cliente: "Maria Oliveira", endereco: "Rua A, 120", valor: "R$ 20,00" },
      { id: 2, cliente: "João Costa", endereco: "Rua B, 45", valor: "R$ 35,00" }
    ];
    const minhasEntregas = [];

    const listaEntregas = document.getElementById("listaEntregas");
    const minhasEntregasDiv = document.getElementById("minhasEntregas");

    function renderEntregas() {
      listaEntregas.innerHTML = "";
      entregasDisponiveis.forEach(ent => {
        const div = document.createElement("div");
        div.className = "card";
        div.innerHTML = `
          <p><b>Cliente:</b> ${ent.cliente}</p>
          <p><b>Endereço:</b> ${ent.endereco}</p>
          <p><b>Valor:</b> ${ent.valor}</p>
          <button class="btn" onclick="aceitar(${ent.id})">Aceitar entrega</button>
        `;
        listaEntregas.appendChild(div);
      });
    }

    function renderMinhasEntregas() {
      minhasEntregasDiv.innerHTML = "";
      if (minhasEntregas.length === 0) {
        minhasEntregasDiv.innerHTML = "<p class='center'>Nenhuma entrega aceita ainda.</p>";
        return;
      }
      minhasEntregas.forEach(ent => {
        const div = document.createElement("div");
        div.className = "card";
        div.innerHTML = `
          <p><b>Cliente:</b> ${ent.cliente}</p>
          <p><b>Endereço:</b> ${ent.endereco}</p>
          <p><b>Status:</b> ${ent.status}</p>
        `;
        minhasEntregasDiv.appendChild(div);
      });
    }

    function aceitar(id) {
      const ent = entregasDisponiveis.find(e => e.id === id);
      if (!ent) return;
      ent.status = "Em andamento";
      minhasEntregas.push(ent);
      entregasDisponiveis.splice(entregasDisponiveis.indexOf(ent), 1);
      renderEntregas();
      renderMinhasEntregas();
    }

    // Tabs
    const tabs = document.querySelectorAll(".tabs button");
    const contents = document.querySelectorAll(".tab-content");
    tabs.forEach(tab => {
      tab.addEventListener("click", () => {
        tabs.forEach(t => t.classList.remove("active"));
        contents.forEach(c => c.classList.remove("active"));
        tab.classList.add("active");
        document.getElementById(tab.dataset.tab).classList.add("active");
      });
    });

    // Financeiro
    function sacar() {
      const saldoEl = document.getElementById("saldo");
      const valorAtual = parseFloat(saldoEl.textContent.replace(/[^\d,]/g, "").replace(",", "."));
      if (valorAtual <= 0) {
        alert("Saldo insuficiente!");
        return;
      }
      alert("Saque realizado com sucesso!");
      saldoEl.textContent = "R$ 0,00";
    }

    // Logout
    function logout() {
      localStorage.removeItem("user");
      window.location.href = "page4.html";
    }

    // Inicializa
    renderEntregas();
    renderMinhasEntregas();
  </script>
</body>
</html>
